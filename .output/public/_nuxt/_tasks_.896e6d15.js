import{z as x,a as _,p as b,A as y,B as w,x as g,b as d,o as l,f as i,h as n,C as h,D as $,u as a,E as C,G as F,H as S,I as D,J as U,F as T,t as B,K as v,i as p,r as V}from"./entry.45457879.js";import{a as u}from"./products.2a2c9580.js";import"./cart.d6e62549.js";const I=()=>{const e=u(),t=x(),s=_(()=>e.getTask),r=_(()=>e.getFetchFlag);return b(()=>t.params,()=>{e.setTasks(t.params.tasks??199)},{immediate:!0}),{tasks:s,fetchFlag:r}},N=()=>{const e=y("limit",()=>"199");return{toBeNarrow:e,filterTasks:()=>{w({name:"tasks-tasks",params:{tasks:e.value}})}}},M=e=>{const t=u();return{updateTask:()=>{t.setUpdatedTask(e.id,e.completed)}}},j=e=>{const t=u();return{deleteTask:()=>{t.deleteTask(e.id)}}},z=()=>{const e=u(),t=g({completed:!1,content:""}),s=()=>{e.createTask(t)};return e.$subscribe((r,o)=>{t.content="",t.completed=!1}),{create:s,newTaskInfo:t}},E={class:"mb-5"},L=n("h4",null,"Create Tasks",-1),R={class:"my-2 d-flex flex-row gap-1"},A=n("button",{type:"submit",class:"btn btn-primary"},"create",-1),G={class:"form-check"},H=n("label",{class:"form-check-label",for:"flexCheckDefault"}," completed ",-1),J=d({__name:"Create",setup(e){const{create:t,newTaskInfo:s}=z();return(r,o)=>(l(),i("form",{onSubmit:o[2]||(o[2]=F((...c)=>a(t)&&a(t)(...c),["prevent"]))},[n("div",E,[L,n("div",R,[h(n("input",{"onUpdate:modelValue":o[0]||(o[0]=c=>a(s).content=c),type:"text",class:"form-control",placeholder:"Task"},null,512),[[$,a(s).content]]),A]),n("div",G,[h(n("input",{"onUpdate:modelValue":o[1]||(o[1]=c=>a(s).completed=c),class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault"},null,512),[[C,a(s).completed]]),H])])],32))}}),K={class:"mb-5"},q=n("h4",{class:"mb-3"},"Filter Tasks",-1),O=U('<option selected value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="199">199</option>',5),P=[O],Q=d({__name:"Filter",setup(e){const{toBeNarrow:t,filterTasks:s}=N();return(r,o)=>(l(),i("div",K,[q,h(n("select",{onChange:o[0]||(o[0]=(...c)=>a(s)&&a(s)(...c)),"onUpdate:modelValue":o[1]||(o[1]=c=>D(t)?t.value=c:null),class:"form-select","aria-label":"Default select example"},P,544),[[S,a(t)]])]))}}),W=d({__name:"Update",props:{completed:{type:Boolean},id:null},setup(e){const t=e,{updateTask:s}=M(t);return(r,o)=>t.completed?(l(),i("i",{key:1,onClick:o[1]||(o[1]=(...c)=>a(s)&&a(s)(...c)),class:"bi bi-check2-all mx-1 point"})):(l(),i("i",{key:0,onClick:o[0]||(o[0]=(...c)=>a(s)&&a(s)(...c)),class:"bi bi-check2 mx-1 point"}))}}),X=d({__name:"Delete",props:{id:null},setup(e){const t=e,{deleteTask:s}=j(t);return(r,o)=>(l(),i("i",{onClick:o[0]||(o[0]=(...c)=>a(s)&&a(s)(...c)),class:"bi bi-trash2-fill point"}))}}),Y={key:0,class:"p-3 flex-row d-flex w-100 justify-content-center"},Z=n("div",{class:"spinner-border m-auto",role:"status"},null,-1),ee=[Z],te={class:"d-flex flex-row"},se=d({__name:"Show",props:{content:null,completed:{type:Boolean},id:null},setup(e){const t=u(),s=_(()=>t.getUpdateFlag),r=_(()=>t.getTaskId);return(o,c)=>{const m=W,k=X;return l(),i("div",{class:v([{"bg-secondary bg-opacity-25":e.completed},"card d-flex flex-row p-1 justify-content-between align-items-center"])},[!a(s)&&a(r)===e.id?(l(),i("div",Y,ee)):(l(),i(T,{key:1},[n("div",{class:v(["card-body",{"text-decoration-line-through":e.completed}])},B(e.content),3),n("div",te,[p(m,{id:e.id,completed:e.completed},null,8,["id","completed"]),p(k,{id:e.id},null,8,["id"])])],64))],2)}}});const oe={class:"container mt-5 pt-4"},ne={class:"row"},ae={class:"col-6"},ce={class:"row"},le={class:"col-3"},ie={key:0,class:"row"},re=n("div",{class:"col-12 d-flex justify-content-center flex-row"},[n("div",{class:"spinner-border",style:{width:"3rem",height:"3rem"},role:"status"},[n("span",{class:"visually-hidden"},"Loading...")])],-1),de=[re],pe={key:1,class:"row g-2"},ue={class:"col-4 p-1"},fe=d({__name:"[[tasks]]",setup(e){const{tasks:t,fetchFlag:s}=I();return(r,o)=>{const c=J,m=Q,k=se;return l(),i("div",oe,[n("div",ne,[n("div",ae,[p(c)])]),n("div",ce,[n("div",le,[p(m)])]),a(s)?(l(),i("div",pe,[(l(!0),i(T,null,V(a(t),f=>(l(),i("div",ue,[p(k,{content:f.title,id:f.id,completed:f.completed},null,8,["content","id","completed"])]))),256))])):(l(),i("div",ie,de))])}}});export{fe as default};
